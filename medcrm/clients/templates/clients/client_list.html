{% extends "generic_base.html" %}

{% load static %}
{% load obj_dmp %}

{% block left_nav_items %}

<li class="nav-item">
    <a class="nav-link" href="/">Dashboard</a>
</li>

{% endblock %}

{% block right_nav_items %}

{% for client in clients_to_show_in_navbar %}
<li class="nav-item">
    <a class="nav-link" href="/clients/{{ client.id }}">{{ client.lastname }}</a>
</li>
{% endfor %}

<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown">More clients</a>

    <ul class="dropdown-menu">
        {% if more_clients %}
        {% for client in more_clients %}
        <li>
            <a class="dropdown-item" href="/clients/{{ client.id }}">
                <img src="{% static client.pfp_path %}">
            </a>
        </li>
        {% endfor %}
        {% endif %}
        <li>
            <hr class="dropdown-divider">
        </li>
        <li>
            <a class="dropdown-item" href="/clients">
                See all clients
            </a>
        </li>
    </ul>
</li>

{% endblock %}

{% block main %}
<ul>
{% for client in object_list %}
<li>
    <a href="/clients/{{ client.id }}">Client {{ client.firstname }} {{ client.lastname }}</a>
    <br>
    Object dump: <br>
    {{ client | obj_dmp | safe }}
</li>
{% endfor %}
</ul>
{% endblock %}